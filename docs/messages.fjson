{"parents": [], "prev": {"link": "../visibility/", "title": "Visibility"}, "next": {"link": "../javascript/", "title": "JavaScript Integration"}, "title": "Messages", "meta": {"myst_slugs": {"messages": [1, "messages", "Messages"], "redirecting": [34, "redirecting", "Redirecting"]}, "wordcount": {"words": 78, "minutes": 0}}, "body": "<section id=\"messages\">\n<h1>Messages<a class=\"headerlink\" href=\"#messages\" title=\"Link to this heading\">\u00b6</a></h1>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> supports Django messages and they work the same as if the template was rendered server-side. When the <code class=\"docutils literal notranslate\"><span class=\"pre\">update</span></code> action is fired, a success message will be added to the request and will show up inside the component.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- messages.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    {% if messages %}\n    <span class=\"p\">&lt;</span><span class=\"nt\">ul</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;messages&quot;</span><span class=\"p\">&gt;</span>\n        {% for message in messages %}\n        <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"err\">{%</span> <span class=\"na\">if</span> <span class=\"na\">message</span><span class=\"err\">.</span><span class=\"na\">tags</span> <span class=\"err\">%}</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;{{ message.tags }}&quot;</span><span class=\"err\">{%</span> <span class=\"na\">endif</span> <span class=\"err\">%}</span><span class=\"p\">&gt;</span>{{ message }}<span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n        {% endfor %}\n    <span class=\"p\">&lt;/</span><span class=\"nt\">ul</span><span class=\"p\">&gt;</span>\n    {% endif %}\n\n    <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;update&quot;</span><span class=\"p\">&gt;</span>Update<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># messages.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django.contrib</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">messages</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">UnicornView</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MessagesView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">update</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">messages</span><span class=\"o\">.</span><span class=\"n\">success</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"s2\">&quot;update called&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<section id=\"redirecting\">\n<h2>Redirecting<a class=\"headerlink\" href=\"#redirecting\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>When the action returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">redirect</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> will defer the messages so they do not get rendered in the component (since the user will never see the re-rendered component). Once the redirect has happened <code class=\"docutils literal notranslate\"><span class=\"pre\">messages</span></code> will be available for rendering by the template as expected.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- messages-when-redirecting.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;update&quot;</span><span class=\"p\">&gt;</span>Update<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- new-url.html --&gt;</span>\n\n{% if messages %}\n\n<span class=\"p\">&lt;</span><span class=\"nt\">ul</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;messages&quot;</span><span class=\"p\">&gt;</span>\n    {% for message in messages %}\n    <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"err\">{%</span> <span class=\"na\">if</span> <span class=\"na\">message</span><span class=\"err\">.</span><span class=\"na\">tags</span> <span class=\"err\">%}</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;{{ message.tags }}&quot;</span><span class=\"err\">{%</span> <span class=\"na\">endif</span> <span class=\"err\">%}</span><span class=\"p\">&gt;</span>{{ message }}<span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n    {% endfor %}\n<span class=\"p\">&lt;/</span><span class=\"nt\">ul</span><span class=\"p\">&gt;</span>\n{% endif %}\n</pre></div>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># messages_when_redirecting.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django.contrib</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">messages</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django.shortcuts</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">redirect</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">UnicornView</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">MessagesWhenRedirectingView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">update</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">messages</span><span class=\"o\">.</span><span class=\"n\">success</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"s2\">&quot;update called&quot;</span><span class=\"p\">)</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"s2\">&quot;new-url&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["javascript", "JavaScript Integration", "N", "next"], ["visibility", "Visibility", "P", "previous"]], "sourcename": "messages.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Messages</a><ul>\n<li><a class=\"reference internal\" href=\"#redirecting\">Redirecting</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "messages", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "furo_version": "2025.12.19", "furo_navigation_tree": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../\">Introduction</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../getting-started/\">Getting Started</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../installation/\">Installation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../components/\">Components</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Components</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../views/\">Views</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../templates/\">Templates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../actions/\">Actions</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../child-components/\">Child components</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../django-models/\">Django Models</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Features</span></p>\n<ul class=\"current\">\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../direct-view/\">Direct View</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../validation/\">Forms and Validation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../redirecting/\">Redirecting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../loading-states/\">Loading States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../dirty-states/\">Dirty States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../partial-updates/\">Partial Updates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../polling/\">Polling</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../visibility/\">Visibility</a></li>\n<li class=\"toctree-l1 current has-children current-page\"><a class=\"current reference internal\" href=\"#\">Messages</a><input aria-label=\"Toggle navigation of Messages\" checked=\"\" class=\"toctree-checkbox\" id=\"toctree-checkbox-1\" name=\"toctree-checkbox-1\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-1\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#redirecting\">Redirecting</a></li>\n</ul>\n</li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../javascript/\">JavaScript Integration</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../queue-requests/\">Queue Requests</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../custom-morphers/\">Custom Morphers</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Misc</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../cli/\">CLI</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../settings/\">Settings</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Info</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../faq/\">FAQ</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../changelog/\">Changelog</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../troubleshooting/\">Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../architecture/\">Architecture</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../code-of-conduct/\">Contributor Covenant Code of Conduct</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://www.django-unicorn.com/docs/unicorn-latest.pdf\">PDF docs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn\">Code repo</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/sponsors/adamghill\">Sponsor</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../api/django_unicorn/\">django_unicorn</a></li>\n</ul>\n", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f2f2f2", "foreground": "#1e1e1e"}, "dark": {"background": "#202020", "foreground": "#d0d0d0"}}}