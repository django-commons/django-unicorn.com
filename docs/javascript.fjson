{"parents": [], "prev": {"link": "../messages/", "title": "Messages"}, "next": {"link": "../queue-requests/", "title": "Queue Requests"}, "title": "JavaScript Integration", "meta": {"myst_slugs": {"javascript-integration": [1, "javascript-integration", "JavaScript Integration"], "call-javascript-from-view": [3, "call-javascript-from-view", "Call JavaScript from View"], "trigger-model-update": [35, "trigger-model-update", "Trigger Model Update"], "dynamic-content": [56, "dynamic-content", "Dynamic Content"]}, "wordcount": {"words": 123, "minutes": 1}}, "body": "<section id=\"javascript-integration\">\n<h1>JavaScript Integration<a class=\"headerlink\" href=\"#javascript-integration\" title=\"Link to this heading\">\u00b6</a></h1>\n<section id=\"call-javascript-from-view\">\n<h2>Call JavaScript from View<a class=\"headerlink\" href=\"#call-javascript-from-view\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>To integrate with other JavaScript functions, view methods can call an arbitrary JavaScript function after it gets rendered.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- call-javascript.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n<span class=\"w\">    </span><span class=\"kd\">function</span><span class=\"w\"> </span><span class=\"nx\">hello</span><span class=\"p\">(</span><span class=\"nx\">name</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">      </span><span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">&quot;Hello, &quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"nx\">name</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">  </span><span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n\n  <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">unicorn:model</span><span class=\"o\">=</span><span class=\"s\">&quot;name&quot;</span> <span class=\"p\">/&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;submit&quot;</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;hello&quot;</span><span class=\"p\">&gt;</span>Hello!<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># call_javascript.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">UnicornView</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">CallJavascriptView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">mount</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"s2\">&quot;hello&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;world&quot;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">hello</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">call</span><span class=\"p\">(</span><span class=\"s2\">&quot;hello&quot;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</section>\n<section id=\"trigger-model-update\">\n<h2>Trigger Model Update<a class=\"headerlink\" href=\"#trigger-model-update\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>Normally when a model element gets changed by a user it will trigger an event which <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> listens for (either <code class=\"docutils literal notranslate\"><span class=\"pre\">input</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">blur</span></code> depending on if it has a <code class=\"docutils literal notranslate\"><span class=\"pre\">lazy</span></code> modifier). However, when setting an element with JavaScript those events do not fire. <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn.trigger()</span></code> provides a way to trigger that event from JavaScript manually.</p>\n<p>The first argument to <code class=\"docutils literal notranslate\"><span class=\"pre\">trigger</span></code> is the component name. The second argument is the value for the element\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">unicorn:key</span></code>.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- trigger-model.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">input</span>\n  <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;nameId&quot;</span>\n  <span class=\"na\">unicorn:key</span><span class=\"o\">=</span><span class=\"s\">&quot;nameKey&quot;</span>\n  <span class=\"na\">unicorn:model</span><span class=\"o\">=</span><span class=\"s\">&quot;name&quot;</span>\n  <span class=\"na\">value</span><span class=\"o\">=</span><span class=\"s\">&quot;initial value&quot;</span>\n<span class=\"p\">/&gt;</span>\n\n<span class=\"p\">&lt;</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n<span class=\"w\">  </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s2\">&quot;nameId&quot;</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">&quot;new value&quot;</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"nx\">Unicorn</span><span class=\"p\">.</span><span class=\"nx\">trigger</span><span class=\"p\">(</span><span class=\"s2\">&quot;hello_world&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">&quot;nameKey&quot;</span><span class=\"p\">);</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">script</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"dynamic-content\">\n<h2>Dynamic Content<a class=\"headerlink\" href=\"#dynamic-content\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>Unicorn automatically initializes components that are dynamically added to the page (e.g. via <code class=\"docutils literal notranslate\"><span class=\"pre\">htmx</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">fetch</span></code>, or <code class=\"docutils literal notranslate\"><span class=\"pre\">innerHTML</span></code>) using a <code class=\"docutils literal notranslate\"><span class=\"pre\">MutationObserver</span></code>.</p>\n<p>If you need to manually check the DOM for new components, you can use <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn.scan()</span></code>.</p>\n<div class=\"highlight-javascript notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\">// Scan the entire document</span>\n<span class=\"nx\">Unicorn</span><span class=\"p\">.</span><span class=\"nx\">scan</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// Scan a specific element</span>\n<span class=\"kd\">const</span><span class=\"w\"> </span><span class=\"nx\">container</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">&#39;container&#39;</span><span class=\"p\">);</span>\n<span class=\"nx\">Unicorn</span><span class=\"p\">.</span><span class=\"nx\">scan</span><span class=\"p\">(</span><span class=\"nx\">container</span><span class=\"p\">);</span>\n</pre></div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["queue-requests", "Queue Requests", "N", "next"], ["messages", "Messages", "P", "previous"]], "sourcename": "javascript.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">JavaScript Integration</a><ul>\n<li><a class=\"reference internal\" href=\"#call-javascript-from-view\">Call JavaScript from View</a></li>\n<li><a class=\"reference internal\" href=\"#trigger-model-update\">Trigger Model Update</a></li>\n<li><a class=\"reference internal\" href=\"#dynamic-content\">Dynamic Content</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "javascript", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "furo_version": "2025.12.19", "furo_navigation_tree": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../\">Introduction</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../getting-started/\">Getting Started</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../installation/\">Installation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../components/\">Components</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Components</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../views/\">Views</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../templates/\">Templates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../actions/\">Actions</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../child-components/\">Child components</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../django-models/\">Django Models</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Features</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../direct-view/\">Direct View</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../validation/\">Forms and Validation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../redirecting/\">Redirecting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../loading-states/\">Loading States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../dirty-states/\">Dirty States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../partial-updates/\">Partial Updates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../polling/\">Polling</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../visibility/\">Visibility</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../messages/\">Messages</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced</span></p>\n<ul class=\"current\">\n<li class=\"toctree-l1 current has-children current-page\"><a class=\"current reference internal\" href=\"#\">JavaScript Integration</a><input aria-label=\"Toggle navigation of JavaScript Integration\" checked=\"\" class=\"toctree-checkbox\" id=\"toctree-checkbox-1\" name=\"toctree-checkbox-1\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-1\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#call-javascript-from-view\">Call JavaScript from View</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#trigger-model-update\">Trigger Model Update</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#dynamic-content\">Dynamic Content</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../queue-requests/\">Queue Requests</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../custom-morphers/\">Custom Morphers</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Misc</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../cli/\">CLI</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../settings/\">Settings</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Info</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../faq/\">FAQ</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../changelog/\">Changelog</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../troubleshooting/\">Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../architecture/\">Architecture</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../code-of-conduct/\">Contributor Covenant Code of Conduct</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://www.django-unicorn.com/docs/unicorn-latest.pdf\">PDF docs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn\">Code repo</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/sponsors/adamghill\">Sponsor</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../api/django_unicorn/\">django_unicorn</a></li>\n</ul>\n", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f2f2f2", "foreground": "#1e1e1e"}, "dark": {"background": "#202020", "foreground": "#d0d0d0"}}}