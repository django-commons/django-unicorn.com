{"parents": [], "prev": {"link": "../polling/", "title": "Polling"}, "next": {"link": "../messages/", "title": "Messages"}, "title": "Visibility", "meta": {"myst_slugs": {"visibility": [1, "visibility", "Visibility"], "modifiers": [32, "modifiers", "Modifiers"], "debounce": [36, "debounce", "Debounce"], "threshold": [51, "threshold", "Threshold"]}, "wordcount": {"words": 162, "minutes": 1}}, "body": "<section id=\"visibility\">\n<h1>Visibility<a class=\"headerlink\" href=\"#visibility\" title=\"Link to this heading\">\u00b6</a></h1>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">unicorn:visible</span></code> can be added to any element to have it call the specified view method when it scrolls into view.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># visibility.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">UnicornView</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">VisibilityView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"n\">visibility_count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">add_count</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">visibility_count</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- visibility.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">style</span><span class=\"o\">=</span><span class=\"s\">&quot;height: 100%&quot;</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">span</span> <span class=\"na\">unicorn:visible</span><span class=\"o\">=</span><span class=\"s\">&quot;add_count&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>In some cases, the element with the <code class=\"docutils literal notranslate\"><span class=\"pre\">unicorn:visible</span></code> attribute will always be in the viewport, so the event will continue to fire and the method will continue to execute. However, this will not happen in the following instances:</p>\n<ul class=\"simple\">\n<li><p>the fields of component do not change, so the AJAX request will return a 304 status code</p></li>\n<li><p>the method explicitly returns <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code></p></li>\n</ul>\n</div>\n<section id=\"modifiers\">\n<h2>Modifiers<a class=\"headerlink\" href=\"#modifiers\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>There are a few modifiers for <code class=\"docutils literal notranslate\"><span class=\"pre\">unicorn:visible</span></code> and they are able to be chained if necessary.</p>\n<section id=\"debounce\">\n<h3>Debounce<a class=\"headerlink\" href=\"#debounce\" title=\"Link to this heading\">\u00b6</a></h3>\n<p>Similar to the debounce modifier on a <a class=\"reference internal\" href=\"../templates/#debounce\"><span class=\"std std-ref\">model</span></a> or <a class=\"reference internal\" href=\"../actions/#debounce\"><span class=\"std std-ref\">actions</span></a>, wait the specified number of milliseconds before calling the specified method.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- debounce-modifier.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">style</span><span class=\"o\">=</span><span class=\"s\">&quot;height: 100%&quot;</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">span</span> <span class=\"na\">unicorn:visible</span><span class=\"err\">.</span><span class=\"na\">debounce-1000</span><span class=\"o\">=</span><span class=\"s\">&quot;add_count&quot;</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"threshold\">\n<h3>Threshold<a class=\"headerlink\" href=\"#threshold\" title=\"Link to this heading\">\u00b6</a></h3>\n<p>The percentage (as an integer) that should be visible before being triggered. For example, <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> means that as soon as 1 pixel of the element is visible it would be fired, <code class=\"docutils literal notranslate\"><span class=\"pre\">25</span></code> would be 25% of the target element is visible, <code class=\"docutils literal notranslate\"><span class=\"pre\">100</span></code> would require 100% of the element to be completely visible.</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- threshold-modifier.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">style</span><span class=\"o\">=</span><span class=\"s\">&quot;height: 100%&quot;</span><span class=\"p\">&gt;</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">span</span> <span class=\"na\">unicorn:visible</span><span class=\"err\">.</span><span class=\"na\">threshold-25</span><span class=\"o\">=</span><span class=\"s\">&quot;add_count&quot;</span><span class=\"p\">&gt;&lt;/</span><span class=\"nt\">span</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["messages", "Messages", "N", "next"], ["polling", "Polling", "P", "previous"]], "sourcename": "visibility.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Visibility</a><ul>\n<li><a class=\"reference internal\" href=\"#modifiers\">Modifiers</a><ul>\n<li><a class=\"reference internal\" href=\"#debounce\">Debounce</a></li>\n<li><a class=\"reference internal\" href=\"#threshold\">Threshold</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "visibility", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "furo_version": "2025.12.19", "furo_navigation_tree": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../\">Introduction</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../getting-started/\">Getting Started</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../installation/\">Installation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../components/\">Components</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Components</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../views/\">Views</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../templates/\">Templates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../actions/\">Actions</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../child-components/\">Child components</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../django-models/\">Django Models</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Features</span></p>\n<ul class=\"current\">\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../direct-view/\">Direct View</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../validation/\">Forms and Validation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../redirecting/\">Redirecting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../loading-states/\">Loading States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../dirty-states/\">Dirty States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../partial-updates/\">Partial Updates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../polling/\">Polling</a></li>\n<li class=\"toctree-l1 current has-children current-page\"><a class=\"current reference internal\" href=\"#\">Visibility</a><input aria-label=\"Toggle navigation of Visibility\" checked=\"\" class=\"toctree-checkbox\" id=\"toctree-checkbox-1\" name=\"toctree-checkbox-1\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-1\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l2 has-children\"><a class=\"reference internal\" href=\"#modifiers\">Modifiers</a><input aria-label=\"Toggle navigation of Modifiers\" class=\"toctree-checkbox\" id=\"toctree-checkbox-2\" name=\"toctree-checkbox-2\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-2\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l3\"><a class=\"reference internal\" href=\"#debounce\">Debounce</a></li>\n<li class=\"toctree-l3\"><a class=\"reference internal\" href=\"#threshold\">Threshold</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../messages/\">Messages</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../javascript/\">JavaScript Integration</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../queue-requests/\">Queue Requests</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../custom-morphers/\">Custom Morphers</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Misc</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../cli/\">CLI</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../settings/\">Settings</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Info</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../faq/\">FAQ</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../changelog/\">Changelog</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../troubleshooting/\">Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../architecture/\">Architecture</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../code-of-conduct/\">Contributor Covenant Code of Conduct</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://www.django-unicorn.com/docs/unicorn-latest.pdf\">PDF docs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn\">Code repo</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/sponsors/adamghill\">Sponsor</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../api/django_unicorn/\">django_unicorn</a></li>\n</ul>\n", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f2f2f2", "foreground": "#1e1e1e"}, "dark": {"background": "#202020", "foreground": "#d0d0d0"}}}