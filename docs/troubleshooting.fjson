{"parents": [], "prev": {"link": "../changelog/", "title": "Changelog"}, "next": {"link": "../architecture/", "title": "Architecture"}, "title": "Troubleshooting", "meta": {"myst_slugs": {"troubleshooting": [1, "troubleshooting", "Troubleshooting"], "disallowed-mime-type-error-on-windows": [3, "disallowed-mime-type-error-on-windows", "Disallowed MIME type error on Windows"], "missing-csrf-token-or-403-forbidden-errors": [19, "missing-csrf-token-or-403-forbidden-errors", "Missing CSRF token or 403 Forbidden errors"]}, "wordcount": {"words": 91, "minutes": 0}}, "body": "<section id=\"troubleshooting\">\n<h1>Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Link to this heading\">\u00b6</a></h1>\n<section id=\"disallowed-mime-type-error-on-windows\">\n<h2>Disallowed MIME type error on Windows<a class=\"headerlink\" href=\"#disallowed-mime-type-error-on-windows\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>Apparently Windows system-wide MIME type configuration sometimes won\u2019t load up JavaScript modules in certain browsers. The errors would be something like <code class=\"docutils literal notranslate\"><span class=\"pre\">Loading</span> <span class=\"pre\">module</span> <span class=\"pre\">from</span> <span class=\"pre\">\u201chttp://127.0.0.1:8000/static/js/unicorn.js\u201d</span> <span class=\"pre\">was</span> <span class=\"pre\">blocked</span> <span class=\"pre\">because</span> <span class=\"pre\">of</span> <span class=\"pre\">a</span> <span class=\"pre\">disallowed</span> <span class=\"pre\">MIME</span> <span class=\"pre\">type</span> <span class=\"pre\">(\u201ctext/plain\u201d)</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">Failed</span> <span class=\"pre\">to</span> <span class=\"pre\">load</span> <span class=\"pre\">module</span> <span class=\"pre\">script:</span> <span class=\"pre\">The</span> <span class=\"pre\">server</span> <span class=\"pre\">responded</span> <span class=\"pre\">with</span> <span class=\"pre\">a</span> <span class=\"pre\">non-JavaScript</span> <span class=\"pre\">MIME</span> <span class=\"pre\">type</span> <span class=\"pre\">of</span> <span class=\"pre\">&quot;text/plain&quot;.</span></code></p>\n<p>One suggested solution is to add the following to the bottom of the settings file:</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># settings.py</span>\n\n<span class=\"k\">if</span> <span class=\"n\">DEBUG</span><span class=\"p\">:</span>\n    <span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"nn\">mimetypes</span>\n    <span class=\"n\">mimetypes</span><span class=\"o\">.</span><span class=\"n\">add_type</span><span class=\"p\">(</span><span class=\"s2\">&quot;application/javascript&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;.js&quot;</span><span class=\"p\">,</span> <span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>See this <a class=\"reference external\" href=\"https://www.taricorp.net/2020/windows-mime-pitfalls/\">Windows MIME type detection pitfalls</a> article, this <a class=\"reference external\" href=\"https://stackoverflow.com/a/16355034\">StackOverflow answer</a>, or <a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn/issues/201\">issue #201</a> for more details.</p>\n</section>\n<section id=\"missing-csrf-token-or-403-forbidden-errors\">\n<h2>Missing CSRF token or 403 Forbidden errors<a class=\"headerlink\" href=\"#missing-csrf-token-or-403-forbidden-errors\" title=\"Link to this heading\">\u00b6</a></h2>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> uses CSRF to protect its endpoint from malicious actors. The two parts that are required for CSRF are <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django.middleware.csrf.CsrfViewMiddleware&quot;</span></code> in <code class=\"docutils literal notranslate\"><span class=\"pre\">MIDDLEWARE</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">{%</span> <span class=\"pre\">csrf_token</span> <span class=\"pre\">%}</span></code> in the template that includes any <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> components.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># settings.py</span>\n\n<span class=\"o\">...</span>\n<span class=\"n\">MIDDLEWARE</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n    <span class=\"o\">...</span>\n    <span class=\"s2\">&quot;django.middleware.csrf.CsrfViewMiddleware&quot;</span><span class=\"p\">,</span>\n    <span class=\"o\">...</span>\n<span class=\"p\">]</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- template.html --&gt;</span>\n{% load unicorn %}\n\n<span class=\"p\">&lt;</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n    {% unicorn_scripts %}\n  <span class=\"p\">&lt;/</span><span class=\"nt\">head</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n    {% csrf_token %}\n\n    {% unicorn &#39;hello-world&#39; %}\n  <span class=\"p\">&lt;/</span><span class=\"nt\">body</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">html</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["architecture", "Architecture", "N", "next"], ["changelog", "Changelog", "P", "previous"]], "sourcename": "troubleshooting.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Troubleshooting</a><ul>\n<li><a class=\"reference internal\" href=\"#disallowed-mime-type-error-on-windows\">Disallowed MIME type error on Windows</a></li>\n<li><a class=\"reference internal\" href=\"#missing-csrf-token-or-403-forbidden-errors\">Missing CSRF token or 403 Forbidden errors</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "troubleshooting", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "furo_version": "2025.12.19", "furo_navigation_tree": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../\">Introduction</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../getting-started/\">Getting Started</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../installation/\">Installation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../components/\">Components</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Components</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../views/\">Views</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../templates/\">Templates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../actions/\">Actions</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../child-components/\">Child components</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../django-models/\">Django Models</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Features</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../direct-view/\">Direct View</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../validation/\">Forms and Validation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../redirecting/\">Redirecting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../loading-states/\">Loading States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../dirty-states/\">Dirty States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../partial-updates/\">Partial Updates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../polling/\">Polling</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../visibility/\">Visibility</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../messages/\">Messages</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../javascript/\">JavaScript Integration</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../queue-requests/\">Queue Requests</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../custom-morphers/\">Custom Morphers</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Misc</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../cli/\">CLI</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../settings/\">Settings</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Info</span></p>\n<ul class=\"current\">\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../faq/\">FAQ</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../changelog/\">Changelog</a></li>\n<li class=\"toctree-l1 current has-children current-page\"><a class=\"current reference internal\" href=\"#\">Troubleshooting</a><input aria-label=\"Toggle navigation of Troubleshooting\" checked=\"\" class=\"toctree-checkbox\" id=\"toctree-checkbox-1\" name=\"toctree-checkbox-1\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-1\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#disallowed-mime-type-error-on-windows\">Disallowed MIME type error on Windows</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#missing-csrf-token-or-403-forbidden-errors\">Missing CSRF token or 403 Forbidden errors</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../architecture/\">Architecture</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../code-of-conduct/\">Contributor Covenant Code of Conduct</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://www.django-unicorn.com/docs/unicorn-latest.pdf\">PDF docs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn\">Code repo</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/sponsors/adamghill\">Sponsor</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../api/django_unicorn/\">django_unicorn</a></li>\n</ul>\n", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f2f2f2", "foreground": "#1e1e1e"}, "dark": {"background": "#202020", "foreground": "#d0d0d0"}}}