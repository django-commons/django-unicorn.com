{"parents": [], "prev": {"link": "../validation/", "title": "Forms and Validation"}, "next": {"link": "../loading-states/", "title": "Loading States"}, "title": "Redirecting", "meta": {"myst_slugs": {"redirecting": [1, "redirecting", "Redirecting"], "redirect": [5, "redirect", "Redirect"], "hashupdate": [42, "hashupdate", "HashUpdate"], "locationupdate": [70, "locationupdate", "LocationUpdate"]}, "wordcount": {"words": 143, "minutes": 1}}, "body": "<section id=\"redirecting\">\n<h1>Redirecting<a class=\"headerlink\" href=\"#redirecting\" title=\"Link to this heading\">\u00b6</a></h1>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code> has a few different ways to redirect from an action method.</p>\n<section id=\"redirect\">\n<h2>Redirect<a class=\"headerlink\" href=\"#redirect\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>To redirect the user, return a <code class=\"docutils literal notranslate\"><span class=\"pre\">HttpResponseRedirect</span></code> from an action method. Using the Django shortcut <a class=\"reference external\" href=\"https://docs.djangoproject.com/en/stable/topics/http/shortcuts/#redirect\"><code class=\"docutils literal notranslate\"><span class=\"pre\">redirect</span></code></a> method is one way to do that in a typical Django manner.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">django.shortcuts.redirect</span></code> can take a Django model, Django view name, an absolute url, or a relative url. However, the <code class=\"docutils literal notranslate\"><span class=\"pre\">permanent</span></code> kwarg for <code class=\"docutils literal notranslate\"><span class=\"pre\">redirect</span></code> has no bearing in this context.</p>\n</div>\n<div class=\"admonition tip\">\n<p class=\"admonition-title\">Tip</p>\n<p>It is not required to use <code class=\"docutils literal notranslate\"><span class=\"pre\">django.shortcuts.redirect</span></code>. Anything that returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">HttpResponseRedirect</span></code> will behave the same in <code class=\"docutils literal notranslate\"><span class=\"pre\">Unicorn</span></code>.</p>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># redirect.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django.shortcuts</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">redirect</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">UnicornView</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">.models</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Book</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">BookView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">save_book</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">book</span> <span class=\"o\">=</span> <span class=\"n\">Book</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">)</span>\n        <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">reset</span><span class=\"p\">()</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;/book/</span><span class=\"si\">{</span><span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- redirect.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">unicorn:model</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"p\">/&gt;&lt;</span><span class=\"nt\">br</span> <span class=\"p\">/&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;save_book()&quot;</span><span class=\"p\">&gt;</span>Save book<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"hashupdate\">\n<h2>HashUpdate<a class=\"headerlink\" href=\"#hashupdate\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>To avoid a server-side page refresh and just update the hash at the end of the url, return <code class=\"docutils literal notranslate\"><span class=\"pre\">HashUpdate</span></code> from the action method.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># hash_update.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">HashUpdate</span><span class=\"p\">,</span> <span class=\"n\">UnicornView</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">.models</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Book</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">BookView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">save_book</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">book</span> <span class=\"o\">=</span> <span class=\"n\">Book</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">)</span>\n        <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">reset</span><span class=\"p\">()</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">HashUpdate</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;#</span><span class=\"si\">{</span><span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- hash-update.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">unicorn:model</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"p\">/&gt;&lt;</span><span class=\"nt\">br</span> <span class=\"p\">/&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;save_book()&quot;</span><span class=\"p\">&gt;</span>Save book<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n<section id=\"locationupdate\">\n<h2>LocationUpdate<a class=\"headerlink\" href=\"#locationupdate\" title=\"Link to this heading\">\u00b6</a></h2>\n<p>To avoid a server-side page refresh and update the whole url, return a <code class=\"docutils literal notranslate\"><span class=\"pre\">LocationUpdate</span></code> from the action method.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">LocationUpdate</span></code> is instantiated with a <code class=\"docutils literal notranslate\"><span class=\"pre\">HttpResponseRedirect</span></code> arg and an optional <code class=\"docutils literal notranslate\"><span class=\"pre\">title</span></code> kwarg.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">LocationUpdate</span></code> uses <a class=\"reference external\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\"><code class=\"docutils literal notranslate\"><span class=\"pre\">window.history.pushState</span></code></a> so the new url must be relative or the same origin as the original url.</p>\n</div>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># location_update.py</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django.shortcuts</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">redirect</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">django_unicorn.components</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">LocationUpdate</span><span class=\"p\">,</span> <span class=\"n\">UnicornView</span>\n<span class=\"kn\">from</span><span class=\"w\"> </span><span class=\"nn\">.models</span><span class=\"w\"> </span><span class=\"kn\">import</span> <span class=\"n\">Book</span>\n\n<span class=\"k\">class</span><span class=\"w\"> </span><span class=\"nc\">BookView</span><span class=\"p\">(</span><span class=\"n\">UnicornView</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;&quot;</span>\n\n    <span class=\"k\">def</span><span class=\"w\"> </span><span class=\"nf\">save_book</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">book</span> <span class=\"o\">=</span> <span class=\"n\">Book</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"o\">=</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"p\">)</span>\n        <span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">reset</span><span class=\"p\">()</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">LocationUpdate</span><span class=\"p\">(</span><span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s2\">&quot;/book/</span><span class=\"si\">{</span><span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">id</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">),</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"sa\">f</span><span class=\"s2\">&quot;</span><span class=\"si\">{</span><span class=\"n\">book</span><span class=\"o\">.</span><span class=\"n\">title</span><span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cm\">&lt;!-- location-update.html --&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">unicorn:model</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;title&quot;</span> <span class=\"p\">/&gt;&lt;</span><span class=\"nt\">br</span> <span class=\"p\">/&gt;</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">button</span> <span class=\"na\">unicorn:click</span><span class=\"o\">=</span><span class=\"s\">&quot;save_book()&quot;</span><span class=\"p\">&gt;</span>Save book<span class=\"p\">&lt;/</span><span class=\"nt\">button</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</section>\n</section>\n", "metatags": "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["loading-states", "Loading States", "N", "next"], ["validation", "Forms and Validation", "P", "previous"]], "sourcename": "redirecting.md.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Redirecting</a><ul>\n<li><a class=\"reference internal\" href=\"#redirect\">Redirect</a></li>\n<li><a class=\"reference internal\" href=\"#hashupdate\">HashUpdate</a></li>\n<li><a class=\"reference internal\" href=\"#locationupdate\">LocationUpdate</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".md", "has_maths_elements": false, "current_page_name": "redirecting", "sidebars": ["sidebar/brand.html", "sidebar/search.html", "sidebar/scroll-start.html", "sidebar/navigation.html", "sidebar/ethical-ads.html", "sidebar/scroll-end.html", "sidebar/variant-selector.html"], "alabaster_version": "1.0.0", "alabaster_version_info": [1, 0, 0], "furo_version": "2025.12.19", "furo_navigation_tree": "<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Basics</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../\">Introduction</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../getting-started/\">Getting Started</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../installation/\">Installation</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../components/\">Components</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Components</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../views/\">Views</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../templates/\">Templates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../actions/\">Actions</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../child-components/\">Child components</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../django-models/\">Django Models</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Features</span></p>\n<ul class=\"current\">\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../direct-view/\">Direct View</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../validation/\">Forms and Validation</a></li>\n<li class=\"toctree-l1 current has-children current-page\"><a class=\"current reference internal\" href=\"#\">Redirecting</a><input aria-label=\"Toggle navigation of Redirecting\" checked=\"\" class=\"toctree-checkbox\" id=\"toctree-checkbox-1\" name=\"toctree-checkbox-1\" role=\"switch\" type=\"checkbox\"/><label for=\"toctree-checkbox-1\"><span class=\"icon\"><svg><use href=\"#svg-arrow-right\"></use></svg></span></label><ul>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#redirect\">Redirect</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#hashupdate\">HashUpdate</a></li>\n<li class=\"toctree-l2\"><a class=\"reference internal\" href=\"#locationupdate\">LocationUpdate</a></li>\n</ul>\n</li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../loading-states/\">Loading States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../dirty-states/\">Dirty States</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../partial-updates/\">Partial Updates</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../polling/\">Polling</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../visibility/\">Visibility</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../messages/\">Messages</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Advanced</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../javascript/\">JavaScript Integration</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../queue-requests/\">Queue Requests</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../custom-morphers/\">Custom Morphers</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Misc</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../cli/\">CLI</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../settings/\">Settings</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">Info</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../faq/\">FAQ</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../changelog/\">Changelog</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../troubleshooting/\">Troubleshooting</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../architecture/\">Architecture</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../code-of-conduct/\">Contributor Covenant Code of Conduct</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://www.django-unicorn.com/docs/unicorn-latest.pdf\">PDF docs</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/adamghill/django-unicorn\">Code repo</a></li>\n<li class=\"toctree-l1\"><a class=\"reference external\" href=\"https://github.com/sponsors/adamghill\">Sponsor</a></li>\n</ul>\n<p class=\"caption\" role=\"heading\"><span class=\"caption-text\">API</span></p>\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"../api/django_unicorn/\">django_unicorn</a></li>\n</ul>\n", "furo_hide_toc": false, "furo_pygments": {"light": {"background": "#f2f2f2", "foreground": "#1e1e1e"}, "dark": {"background": "#202020", "foreground": "#d0d0d0"}}}